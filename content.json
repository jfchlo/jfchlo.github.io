{"meta":{"title":"映 像","subtitle":null,"description":null,"author":"JF","url":"https://jfchl.cn"},"pages":[],"posts":[{"title":"pandas 读取csv OSerro","slug":"坑2","date":"2018-10-15T20:29:03.000Z","updated":"2018-10-15T20:52:31.744Z","comments":true,"path":"2018/10/16/坑2/","link":"","permalink":"https://jfchl.cn/2018/10/16/坑2/","excerpt":"","text":"pandas读取csv文件如出现如下错误， 都是文件名或路径含有中文，改了就是了，也可加一句engine=’python’","categories":[{"name":"坑","slug":"坑","permalink":"https://jfchl.cn/categories/坑/"}],"tags":[{"name":"坑","slug":"坑","permalink":"https://jfchl.cn/tags/坑/"}]},{"title":"PEST分析方法（一）","slug":"PEST 分析模型","date":"2018-09-18T16:00:00.000Z","updated":"2018-09-19T01:58:39.062Z","comments":true,"path":"2018/09/19/PEST 分析模型/","link":"","permalink":"https://jfchl.cn/2018/09/19/PEST 分析模型/","excerpt":"","text":"PEST 分析模型 从事同城配送行业，感觉现在是王小二过年，心理慌啊，我还欠老马不少银子啊 看看这线条，跌宕起伏，犹如过山车叫人心惊肉跳。 耳闻PEST是卜卦大湿，据传卜过的人都说好。 一日登门请教！ 我：“大湿啊，你看看我这，未来可好？”大湿低头端详片刻，悠悠道：“你这是季节性情感障碍综合征。”我：“情感障碍？”大湿：“对，你看啊，节假日，特别是大的传统节日，你心情好点，而且越来越差，如今即便是传统节日，你的心情也大不如以前了。” 我：“大湿啊，你看看《武汉现代物流十三五规划纲要》，里头好多关于发展物流的热词，我还统计了一下，提到物流205个，还有这个配送。。。。。。”大湿抬头，轻蔑扫了我一眼，我立马收住激情。“一个物流规划文件，它不关注物流，关注什么，难道是某宝离婚，东哥性侵。” 大湿厉声道。 我默然！1234567891011121314151617181920212223import jiebaimport jieba.analyse from pyecharts import WordCloudfrom collections import Counterimport stringtxt=&apos;&apos;with open(&apos;e:/file/1.txt&apos;,mode=&apos;r&apos;,encoding=&apos;utf-8&apos;) as f: line=f.read() line=line.translate(string.punctuation)#删除标点及特殊字符 line=line.splitlines() txt=&apos;&apos;.join(line)keywords=jieba.cut(txt,cut_all=False)word=[]for key in keywords: if len(key)&gt;1: word.append(key)count=Counter(word)#print(count.most_common(50))name,value=WordCloud.cast(count)wordcloud = WordCloud(width=1000, height=400)wordcloud.add(&quot;&quot;, name, value,word_size_range=[20, 100])wordcloud 123456from pyecharts import Barname=count.most_common(30)m,n=Bar.cast(name)bar=Bar(&apos;热点词汇&apos;)bar.add(&apos;武汉市现代物流十三五规划&apos;,m,n)bar 1234567891011121314151617import pandas as pdfrom pyecharts import Lineimport refiles=&apos;e:/file/门店拣货数量.xls&apos;df=pd.read_excel(files,index_col=None)df1=df.loc[:,[&apos;生成时间&apos;,&apos;拣货门店&apos;,&apos;件数&apos;]]df1=df1.dropna()f=lambda x: int(re.sub(&apos;\\D&apos;,&apos;&apos;,x))df1[&apos;件数&apos;]=df1[&apos;件数&apos;].apply(f)p=df1.pivot_table(index=&apos;生成时间&apos;,values=&apos;件数&apos;,aggfunc=sum)t=p.resample(&apos;M&apos;).sum()t.values.Tline=Line()line.add(&quot;2017年至今运输数量&quot;, t.index, t.values.T[0], is_smooth=True, mark_line=[&quot;max&quot;, &quot;average&quot;])line PEST 为一种企业所处宏观环境分析模型，所谓PEST，即P是政治（Politics），E是经济（Economy），S是社会（Society），T是技术（Technology）. 这些是企业的外部环境，一般不受企业掌握，这些因素也被戏称为“pest（有害物）”PEST要求高级管理层具备相关的能力及素养。 政治环境 政府政策 法律环境 经济环境 社会经济结构 经济体制 宏观经济政策 当前经济状况 其他一般经济条件可以参考以下几点 利率 通货膨胀与人均就业 人均GDP的长远预期 社会环境 人口社会流动性 消费心理 生活方式变化 文化传统 价值观 技术环境","categories":[{"name":"数据分析","slug":"数据分析","permalink":"https://jfchl.cn/categories/数据分析/"}],"tags":[{"name":"数据分析","slug":"数据分析","permalink":"https://jfchl.cn/tags/数据分析/"}]},{"title":"excel string to int","slug":"坑","date":"2018-09-16T12:44:15.000Z","updated":"2018-09-19T01:38:37.977Z","comments":true,"path":"2018/09/16/坑/","link":"","permalink":"https://jfchl.cn/2018/09/16/坑/","excerpt":"","text":"读取excel数据string 转int问题 在导入excel数据进行计算时，有时需要将string转换int或者float因为python假设需要进行int转型的字符串仅仅包含数字，去除掉字符串中的非数字字符即可。","categories":[{"name":"坑","slug":"坑","permalink":"https://jfchl.cn/categories/坑/"}],"tags":[{"name":"坑","slug":"坑","permalink":"https://jfchl.cn/tags/坑/"}]},{"title":"JupyterToMarkdownTest","slug":"JupyterToMarkdownTest","date":"2018-09-09T22:20:51.000Z","updated":"2018-09-12T15:03:52.181Z","comments":true,"path":"2018/09/10/JupyterToMarkdownTest/","link":"","permalink":"https://jfchl.cn/2018/09/10/JupyterToMarkdownTest/","excerpt":"","text":"这是以前用jupyter，今日转换成md放到这里作为一个测试 销售描述统计与 matplotlib pandas 数据重采样 pandas 数据透视表 matplotlib 中文及符号显示 基本画图 以一月份份的销售为例： 123456import osimport pandas as pdimport matplotlib.pyplot as pltname=['单号','销售日期','商品编码','商品名称','车型','仓位','销售数量','销售单价','销售金额']os.chdir('e:')df1=pd.read_excel('./zyxiaoshou.xlsx',sheetname='Sheet5',header=0,names=name) 1df1.head() 这是一月份总体销售情况，来做个初步的统计描述,总销售金额，各个仓位的销售金额(包含了销售退单）看看pandas的透视表函授怎么实现上述功能 pd.pivot_table 12sel_table=df1.pivot_table(index='仓位',values=['销售金额'],aggfunc=sum,margins_name='销售总计',margins=True)sel_table 12sel_table=df1.pivot_table(index='商品名称',values=['销售数量','销售金额'],aggfunc=sum)sel_table.sort_values(by='销售金额',ascending=False)[0:10] 销售数据在一个工作薄中8个不同滴表中，看否能合并为一个 12345678910import osimport pandas as pdimport matplotlib.pyplot as pltname=['单号','销售日期','商品编码','商品名称','车型','仓位','销售数量','销售单价','销售金额']os.chdir('e:')df=[]for i in range(1,13): df.append(pd.read_excel('./zyxiaoshou.xlsx',sheetname='Sheet'+str(i),header=0,names=name))data=pd.concat(df)data.index=[data['销售日期']] 1data.tail() 1len(data) 33932 1from datetime import datetime 12sel_table=data.pivot_table(index='销售日期',columns='仓位',values='销售金额',aggfunc=sum,fill_value=0)sel_table.head() 12#每月各个仓库的销售汇总sel_table.resample('m').sum() 123456789101112t1=sel_table.resample('m').sum().ix[:,['福田库','王牌库','AA','AB','整车','轮胎库']]plt.rcParams['font.sans-serif']=['SimHei']plt.rcParams['axes.unicode_minus']=Falset1.plot(figsize=(10,3),rot=30)plt.legend()plt.grid(True)plt.xlabel('月份')plt.ylabel('销售金额')plt.title('2016年1-8月份分库销售统计')plt.show() 1234567t2=t1.resample('m').sum().sum(axis=1)t2.plot(figsize=(10,3),rot=30)plt.grid(True)plt.ylabel('销售金额(万元)')plt.xlabel('月份')plt.show() 123456789101112t1.sum(axis=1).plot(figsize=(10,3),rot=45,style='bo-')plt.grid(True)plt.title('总体销售')plt.ylabel('销售金额')plt.xlabel('销售月份')for i in range(len(t1)): plt.annotate(t1.sum(axis=1).values[i], xy=(t1.index[i],t1.sum(axis=1)[i]), xytext=(t1.index[i],t1.sum(axis=1)[i]) ) plt.show() 123import numpy as npa=pd.Series([1,2,3])a[1] 2 12t1.plot(subplots=True,figsize=(6,10),sharey=True,grid=True)plt.show() 12t1.plot(subplots=True,figsize=(14,6),layout=(2,3),sharey=True,sharex=False,grid=True)plt.show() 12t1.sum(axis=0).plot.pie(figsize=(6,6),autopct='%.2f')plt.show() 12t1.plot.area(figsize=(12,6))plt.show() 12345678910import osimport pandas as pdimport matplotlib.pyplot as pltname=['单号','销售日期','商品编码','商品名称','车型','仓位','销售数量','销售单价','销售金额']os.chdir('e:')df=[]for i in range(1,12): df.append(pd.read_excel('./zyxiaoshou.xlsx',sheetname='Sheet'+str(i),header=0,names=name))data=pd.concat(df)data.to_excel('./zyqp.xls')","categories":[{"name":"数据分析","slug":"数据分析","permalink":"https://jfchl.cn/categories/数据分析/"}],"tags":[{"name":"jupyter markdown","slug":"jupyter-markdown","permalink":"https://jfchl.cn/tags/jupyter-markdown/"}]},{"title":"青海湖","slug":"qinghaihu","date":"2018-09-08T14:04:51.000Z","updated":"2018-09-08T14:22:36.745Z","comments":true,"path":"2018/09/08/qinghaihu/","link":"","permalink":"https://jfchl.cn/2018/09/08/qinghaihu/","excerpt":"","text":"","categories":[{"name":"PHOTOS","slug":"PHOTOS","permalink":"https://jfchl.cn/categories/PHOTOS/"}],"tags":[{"name":"photos","slug":"photos","permalink":"https://jfchl.cn/tags/photos/"}]},{"title":"justifiedGallery-test","slug":"facybox-test","date":"2018-09-05T07:04:51.000Z","updated":"2018-09-05T12:40:24.958Z","comments":true,"path":"2018/09/05/facybox-test/","link":"","permalink":"https://jfchl.cn/2018/09/05/facybox-test/","excerpt":"","text":"本想出发之前完成。。。。。。","categories":[{"name":"PHOTOS","slug":"PHOTOS","permalink":"https://jfchl.cn/categories/PHOTOS/"}],"tags":[{"name":"photos","slug":"photos","permalink":"https://jfchl.cn/tags/photos/"}]},{"title":"Hello World","slug":"hello-world","date":"2018-07-25T14:17:16.784Z","updated":"2018-07-30T05:52:19.237Z","comments":true,"path":"2018/07/25/hello-world/","link":"","permalink":"https://jfchl.cn/2018/07/25/hello-world/","excerpt":"","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new \"My New Post\" More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","categories":[],"tags":[]}]}